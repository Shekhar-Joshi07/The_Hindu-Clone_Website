<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="text" id="query" placeholder="search">
    <button id="cat_btn"> enter</button>

    <div id="parent">

    </div>
    <!-- <form id="form">
        <input type="text" id="name">
        <input type="text" id="age">
        <input type="text" id="hobbies">
        <button id="submit">submit</button>
    </form> -->
</body>

</html>
<script>

    // function user(n,a,h){

    //     this.name = n;
    //     this.age = a;
    //     this.hobbies = h;
    // }

    // let form = document.getElementById("form");
    // form.addEventListener("submit",(e)=>{

    //     e.preventDefault();
    //     let name = form.name.value;
    //     let age = form.age.vlaue;
    //     let hobbies = form.hobbies.value;

    //     let obj = new user(name,age,hobbies);
    //     console.log(obj);
    // })

    let cat_btn = document.getElementById("cat_btn");
    cat_btn.addEventListener("click", () => {
        search_cat();

    })


    const search_cat = async () => {
        // console.log("hjfhfhhhf");
        try {
            let query = document.getElementById("query").value;
            const api_key = `pub_11701ec8577ec6ebc00ba122b37cb0402f0bd`;

            let res = await fetch(`https://newsdata.io/api/1/news?apikey=${api_key}&q=${query}`);
            let data = await res.json();
            news_data = (data.results);
           
           // console.log(news_data);

           
            const append_data = (news_data => {
                let parent = document.getElementById("parent");
                parent.innerHTM = null;
                news_data.forEach((el) =>{
                    let div = document.createElement("div");

                    let category = document.createElement("p");
                    category.innerText = el.category;
                    console.log(category);

                    let country = document.createElement("p");
                    country.innerText = el.country;
                    console.log(country)


                    div.append(category,country);
                    parent.append(div);
                })

            });
            append_data(news_data);
        }
        catch (err) {
            console.log(err);
        }
    }




</script>